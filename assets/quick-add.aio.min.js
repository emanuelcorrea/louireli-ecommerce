/*
Generated time: October 4, 2023 16:59
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
customElements.get("quick-add-modal")||customElements.define("quick-add-modal",class extends ModalDialog{constructor(){super(),this.modalContent=this.querySelector('[id^="QuickAddInfo-"]')}hide(e=!1){var t=document.querySelector("cart-notification")||document.querySelector("cart-drawer");t&&t.setActiveElement(this.openedBy),this.modalContent.innerHTML="",e&&(this.openedBy=null),super.hide()}show(t){t.setAttribute("aria-disabled",!0),t.classList.add("loading"),t.querySelector(".loading-overlay__spinner").classList.remove("hidden"),fetch(t.getAttribute("data-product-url")).then(e=>e.text()).then(e=>{e=(new DOMParser).parseFromString(e,"text/html");this.productElement=e.querySelector('section[id^="MainProduct-"]'),this.preventDuplicatedIDs(),this.removeDOMElements(),this.setInnerHTML(this.modalContent,this.productElement.innerHTML),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init(),window.ProductModel&&window.ProductModel.loadShopifyXR(),this.removeGalleryListSemantic(),this.preventVariantURLSwitching(),super.show(t)}).finally(()=>{t.removeAttribute("aria-disabled"),t.classList.remove("loading"),t.querySelector(".loading-overlay__spinner").classList.add("hidden")})}setInnerHTML(e,t){e.innerHTML=t,e.querySelectorAll("script").forEach(e=>{const t=document.createElement("script");Array.from(e.attributes).forEach(e=>{t.setAttribute(e.name,e.value)}),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})}preventVariantURLSwitching(){this.modalContent.querySelector("variant-radios,variant-selects").setAttribute("data-update-url","false")}removeDOMElements(){var e=this.productElement.querySelector("pickup-availability"),e=(e&&e.remove(),this.productElement.querySelector("product-modal")),e=(e&&e.remove(),this.productElement.querySelector("modal-dialog"));e&&e.remove()}preventDuplicatedIDs(){const t=this.productElement.dataset.section;this.productElement.innerHTML=this.productElement.innerHTML.replaceAll(t,"quickadd-"+t),this.productElement.querySelectorAll("variant-selects, variant-radios").forEach(e=>{e.dataset.originalSection=t})}removeGalleryListSemantic(){var e=this.modalContent.querySelector('[id^="Slider-Gallery"]');e&&(e.setAttribute("role","presentation"),e.querySelectorAll('[id^="Slide-"]').forEach(e=>e.setAttribute("role","presentation")))}});